<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Reclutamento – Delirium Tremens</title>
<link rel="stylesheet" href="../css/style.css">
</head>

<body class="page-transition">

<header>
<h1>Reclutamento</h1>
<nav>
  <ul>
    <li><a href="../index.html">Home</a></li>
    <li><a href="raider.html">Raider</a></li>
    <li><a href="hollowsoul.html">Hollow Soul</a></li>
    <li><a href="recruiting.html" class="active">Reclutamento</a></li>
    <li><a href="statuto.html">Statuto</a></li>
  </ul>
</nav>
</header>


<main class="recruit panel">

<h2>Classi richieste</h2>
<ul>
  <li>Tank – Chiuso</li>
  <li>Healer – Chiuso</li>
  <li>DPS – Alto bisogno</li>
  <li>Range DPS – Aperto</li>
</ul>


<h2>Come candidarsi</h2>
<p>Compila il modulo sottostante per inviare la tua candidatura. Ti risponderemo direttamente su Discord.</p>


<!-- FORM DI CANDIDATURA -->
<form id="applyForm" class="apply-form">

  <label>Discord</label>
  <input type="text" name="Discord" placeholder="es: Odetti#1234" required>

  <label>Nome del personaggio</label>
  <input type="text" name="Personaggio" required>

  <label>Classe</label>
  <select id="classSelect" name="Classe" required>
    <option value="">Seleziona la classe…</option>
    <option value="Death Knight">Death Knight</option>
    <option value="Demon Hunter">Demon Hunter</option>
    <option value="Druid">Druid</option>
    <option value="Evoker">Evoker</option>
    <option value="Hunter">Hunter</option>
    <option value="Mage">Mage</option>
    <option value="Monk">Monk</option>
    <option value="Paladin">Paladin</option>
    <option value="Priest">Priest</option>
    <option value="Rogue">Rogue</option>
    <option value="Shaman">Shaman</option>
    <option value="Warlock">Warlock</option>
    <option value="Warrior">Warrior</option>
  </select>

  <label>Specializzazione</label>
  <select id="specSelect" name="Spec" required>
    <option value="">Seleziona prima una classe…</option>
  </select>

  <label>Link a Raider.IO o Warcraft Logs</label>
  <input type="text" name="Logs">

  <label>Disponibilità</label>
  <textarea name="Disponibilità" required></textarea>

  <label>Perché vuoi unirti ai Delirium Tremens?</label>
  <textarea name="Motivazione" required></textarea>

  <button type="submit" class="apply-button">Invia candidatura</button>
</form>


</main>


<footer>
<p>&copy; 2025 Delirium Tremens</p>
</footer>


<!-- SCRIPT TRANSIZIONE PAGINA -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  document.body.classList.add("page-loaded");
});

document.querySelectorAll("a").forEach(link => {
  if (link.hostname === window.location.hostname) {
    link.addEventListener("click", function (e) {
      e.preventDefault();
      const href = this.getAttribute("href");
      document.body.classList.remove("page-loaded");
      setTimeout(() => { window.location.href = href; }, 300);
    });
  }
});
</script>


<!-- SCRIPT INVIO FORM AL WEBHOOK DISCORD -->
<script>
document.getElementById("applyForm").addEventListener("submit", async function(e) {
  e.preventDefault();

  const webhookURL = "https://discord.com/api/webhooks/1439257704198832194/KIM82-eZUORCNmAYRBTZwjatEASiltvNvZ-0hAvp2_bjUw_BB0kTPo3ITRJDz-RisJnM";

  const formData = new FormData(this);

  const message = Array.from(formData.entries())
    .map(([key, value]) => `**${key}:** ${value}`)
    .join("\n");

  await fetch(webhookURL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ content: message })
  });

  alert("Candidatura inviata con successo!");
  this.reset();
});
</script>

<script>
// Lista dinamica classi → spec
const specByClass = {
  "Death Knight": ["Blood", "Frost", "Unholy"],
  "Demon Hunter": ["Havoc", "Vengeance"],
  "Druid": ["Balance", "Feral", "Guardian", "Restoration"],
  "Evoker": ["Devastation", "Preservation", "Augmentation"],
  "Hunter": ["Beast Mastery", "Marksmanship", "Survival"],
  "Mage": ["Arcane", "Fire", "Frost"],
  "Monk": ["Brewmaster", "Mistweaver", "Windwalker"],
  "Paladin": ["Holy", "Protection", "Retribution"],
  "Priest": ["Discipline", "Holy", "Shadow"],
  "Rogue": ["Assassination", "Outlaw", "Subtlety"],
  "Shaman": ["Elemental", "Enhancement", "Restoration"],
  "Warlock": ["Affliction", "Demonology", "Destruction"],
  "Warrior": ["Arms", "Fury", "Protection"]
};

const classSelect = document.getElementById("classSelect");
const specSelect = document.getElementById("specSelect");

classSelect.addEventListener("change", () => {
  const selectedClass = classSelect.value;
  specSelect.innerHTML = "";

  if (!selectedClass) {
    specSelect.innerHTML = `<option value="">Seleziona prima una classe…</option>`;
    return;
  }

  specByClass[selectedClass].forEach(spec => {
    const option = document.createElement("option");
    option.value = spec;
    option.textContent = spec;
    specSelect.appendChild(option);
  });
});
</script>


</body>
</html>
