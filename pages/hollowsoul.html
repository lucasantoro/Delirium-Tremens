<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Delirium Tremens – Hollow Soul</title>
<link rel="stylesheet" href="../css/style.css">
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>

<body class="page-transition">

<header>
  <nav class="mainnav">
    <ul>
      <li><a href="../index.html">Home</a></li>
      <li><a href="raider.html">Raider</a></li>
      <li><a href="hollowsoul.html" class="active">Hollow Soul</a></li>
      <li><a href="recruiting.html">Reclutamento</a></li>
      <li><a href="statuto.html">Statuto</a></li>
    </ul>
  </nav>
</header>

<!-- HERO -->
<section class="hero">
  <div class="hero-content">
    <h2>Hollow Soul</h2>
    <p>
      L’anima sociale dei Delirium Tremens: chi tiene vivo il Discord, riempie la chat di meme,
      costruisce gruppi, amicizie e serate che vanno oltre il semplice “fare chiavi”.
    </p>
  </div>
</section>

<!-- BACKGROUND CON LOGO -->
<div class="bg-container bg-main-logo">
  <main class="panel">

    <!-- COMMUNITY -->
    <h2 class="section-title">La nostra Community</h2>
    <p class="section-subtitle">
      Gli Hollow Soul sono la parte più libera, creativa e rumorosa della gilda:
      qui non contano solo i numeri, ma le persone, le risate e il senso di appartenenza.
    </p>

    <p class="description-long">
      Gli <strong>Hollow Soul</strong> rappresentano l’anima sociale quotidiana della gilda.
      Sono i giocatori che tengono viva la community: chiacchiere, Mythic+, alt run, serate chill,
      PvP improvvisato, meme e supporto ai nuovi arrivati — tutto ciò che trasforma una gilda in
      una <strong>big family</strong>.
    </p>

    <!-- COSA FACCIAMO -->
    <section>
      <h2 class="section-title">Cosa facciamo</h2>
      <p class="section-subtitle">
        Non solo progress raid: gli Hollow Soul vivono WoW in modo rilassato, sociale e divertente.
      </p>

      <div class="grid-cards">
        <div class="card">
          <h3>Mythic+ in compagnia</h3>
          <p>
            Gruppi costanti, atmosfera serena e zero tossicità.
            Perfetto per migliorare senza pressioni.
          </p>
        </div>

        <div class="card">
          <h3>Alt, collezionismo & vecchi contenuti</h3>
          <p>
            Mount, transmog, achievement e vecchi raid.
            Sempre qualcuno online con cui condividere un obiettivo.
          </p>
        </div>

        <div class="card">
          <h3>Community & serate social</h3>
          <p>
            Serate chill, giochi interni, eventi, nottate su Discord.
            Gli Hollow Soul sono il cuore pulsante della gilda.
          </p>
          <a href="recruiting.html" class="team-btn">Unisciti agli Hollow Soul</a>
        </div>
      </div>
    </section>

    <!-- STATISTICHE WORKER -->
    <section>
      <h2 class="section-title">Numeri della nostra community</h2>
      <p class="section-subtitle">
        Panoramica rapida basata sui dati disponibili tramite Worker & Raider.IO.
      </p>

      <div class="stats-grid">

        <div class="stat-card">
          <div class="stat-label">Personaggi in gilda</div>
          <div class="stat-value" id="stat-characters">–</div>
          <div class="stat-hint">Totale dei personaggi presenti nel roster.</div>
        </div>

        <div class="stat-card">
          <div class="stat-label">Giocatori attivi M+ (30 giorni)</div>
          <div class="stat-value" id="stat-active">–</div>
          <div class="stat-hint">Player che hanno completato almeno una Mythic+ nell’ultimo mese.</div>
        </div>

        <div class="stat-card">
          <div class="stat-label">Punteggio medio M+ (Top 10)</div>
          <div class="stat-value" id="stat-avg-score">–</div>
          <div class="stat-hint">Media del punteggio Mythic+ dei top 10 player.</div>
        </div>

        <div class="stat-card">
          <div class="stat-label">Punteggio medio M+ (Top 30)</div>
          <div class="stat-value" id="stat-avg-top30">–</div>
          <div class="stat-hint">Media del punteggio Mythic+ dei migliori 30 giocatori della gilda.</div>
        </div>

        <div class="stat-card">
          <div class="stat-label">Run M+ (ultimi 30 giorni)</div>
          <div class="stat-value" id="stat-guild-runs">–</div>
          <div class="stat-hint">Totale delle Mythic+ completate dai membri della gilda.</div>
        </div>

      </div>

      <p class="stats-note" id="stats-note">
        Dati aggiornati tramite Worker.
      </p>
    </section>

  </main>
</div>

<footer>
  <p>&copy; 2025 Delirium Tremens</p>
</footer>

<!-- TRANSIZIONE PAGINE -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  document.body.classList.add("page-loaded");
});
document.querySelectorAll("a").forEach(a => {
  if (a.hostname === location.hostname) {
    a.addEventListener("click", e => {
      e.preventDefault();
      const href = a.getAttribute("href");
      document.body.classList.remove("page-loaded");
      setTimeout(() => { window.location = href; }, 300);
    });
  }
});
</script>

<!-- WORKER STATS -->
<script>
async function loadHollowSoulStats() {
  const elChars  = document.getElementById("stat-characters");
  const elActive = document.getElementById("stat-active");
  const elAvg10  = document.getElementById("stat-avg-score");
  const elAvg30  = document.getElementById("stat-avg-top30");
  const elRuns   = document.getElementById("stat-guild-runs");
  const note     = document.getElementById("stats-note");

  try {
    const res = await fetch("https://broad-block-f85c.lucasantoro2905.workers.dev/rio-search");
    const data = await res.json();

    elChars.textContent = data.totalCharacters ?? "–";
    elActive.textContent = data.activePlayersLast30 ?? "–";
    elAvg10.textContent = data.avgScoreTop10 ?? "–";
    elAvg30.textContent = data.avgScoreTop30 ?? "–";
    elRuns.textContent = data.guildRunsLast30 ?? "–";

    note.textContent =
      "Statistiche aggiornate via Worker ogni 6 ore.";

  } catch (e) {
    console.error("Errore stats:", e);
    elChars.textContent = elActive.textContent = elAvg10.textContent = elAvg30.textContent = elRuns.textContent = "–";
    note.textContent = "Impossibile caricare le statistiche al momento.";
  }
}

loadHollowSoulStats();
</script>

</body>
</html>
